{"tagline":"An extension to the trigger method of JQuery","name":"Eventbroadcast","body":"**Eventbroadcast** it's a small plugin to improve the functionality of **bind()**/**trigger()**: the method *$.trigger(<event_name>)* (without a selector) triggers the event *\\<event\\_name\\>* on all elements previously registered to the event through *.bind()* and *.one()*.\r\n\r\nThe main problem with the classic jQuery\r\n*$(<css-selector>).trigger()* method is that must be used on the element that receives the events, leaving the [Publish/Subscribe pattern](http://en.wikipedia.org/wiki/Publish subscribe_pattern) uncomplete: we need to programmatically know the elements to cast the event to.\r\n\r\nWith the **Publish/Subscribe pattern** it's easy to decouple the code in charge to create the event from the code that receives it: the event emitter doesn't know (and doesn't care), at runtime, who is listening to the event (speaking with the words of academics, it's not aware of the topology of the elements).\r\n **The more the code is decoupled, the more is maintanable.**\r\n\r\n##An example in the real world\r\n\r\nSuppose you have a login/logout dialogs in Javascript and several HTML fragments that must be updated based on session changes, for example:\r\n\r\n- when the user logs in, we need to update the username box with name of the user and hide the \"Login button\"\r\n- when the user logs out, we need to update the username box with \"anonymous\" and show the \"Login button\"\r\n\r\nBelow is the pseudo-code for this:\r\n\r\n\tfunction doLogin() { \r\n\t\t$.ajax('/user/login', {\r\n\t\t\tusername: 'my_username', \r\n\t\t\tpassword: 'my_password'\r\n\t\t\t}, \r\n\t\t\tfunction (result) { \r\n\t\t\t\tif (!result.error)\t\r\n\t\t\t\t\t$.trigger('login',result.username); \r\n\t\t\t\t} \r\n\t\t\t); \r\n\t\t}\r\n\tfunction doLogout() { \r\n\t\t$.getJSON('/user/logout',\r\n\t\t\tfunction(result) { \r\n\t\t\t\tif (!result.error) { \r\n\t\t\t\t\t$.trigger('logout'); \r\n\t\t\t\t\t} \r\n\t\t\t\t} \r\n\t\t} // [...]\r\n\t$('a.btnLogin')\r\n\t\t.bind('login',function(evt) { \r\n\t\t\t// hide the login button\r\n\t\t\t$(this).hide();\r\n\t\t\t}) \r\n\t\t.bind('logout',function(evt) { \r\n\t\t\t// hide the login button\r\n\t\t\t$(this).show(); \r\n\t\t\t}); // [...]\r\n\t$('div.username')\r\n\t\t.bind('login',function(evt,username) { \r\n\t\t\t// update the username box\r\n\t\t\t$(this).html(username);\r\n\t\t\t})\r\n\t\t.bind('logout',function(evt,username) { \r\n\t\t\t// update the username box\r\n\t\t\t$(this).html('Anonymous'); \r\n\t\t\t});\r\n\r\nHere we have two events,**login** and **logout**, triggered at the end of *doLogin()* and *doLogout()* operations. In this way the login/logout ajax operations are completely decoupled from the view: doLogin() and doLogout() don't have to know where to put datas (for example the jQuery CSS selectors of the elements), they just fire events!\r\nIf the layout changes and box/buttons move around the page, everything will still work.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}